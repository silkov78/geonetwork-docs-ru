# Сбор данных по обычному URL (открытые источники) {#harvesting-simpleurl-services}

Этот сборщик подключается к удаленному серверу по обычному URL-адресу для получения записей метаданных. Это позволяет собирать каталоги открытых данных, такие как opendatasoft, ESRI, DKAN и другие.

## Добавление сборщика по URL 

Нажмите `Собрать из` - `Простой URL`, чтобы создать сборщик данных с открытых каталогов по URL. Доступные параметры следующие:

-   **Идентификация** - параметры собранных данных в каталоге GeoNetwork.
    -    *Имя* - Это краткое описание удаленного сайта. Оно будет показано на главной странице сбора в качестве имени для этого экземпляра CSW-харвестера.
    -    *Выбор логотипа* - Логотип будет использоваться при отображении собранных записей метаданных в результатах поиска.
    -    *Группа* - Группа, в которой разместятся собираемые метаданные.
    -    *Пользователь* - Пользователь, который будет владельцем собранных метаданных.
-   **Расписание** - Параметры расписания, согласно которым сборщик будет собирать метаданные.
    -    *Частота* - Частота (периодичность) запуска сбора метаданных харвестером.
    -    *Только один запуск* - Сборщик будет запущен только один раз, если выбран пункт.
-   **Настроить подключение** - параметры подключения к CSW-серверу.
    -    *URL сервиса* - URL JSON или XML. Если требуется собрать метаданные более чем по одному URL, то нужно добавить каждому по строке.
    -    *Удалённая аутентификация* - Учетные данные для базовой HTTP-аутентификации на сервере CSW (Логин и Пароль).
    -    *Цикл по* - Элемент, содержащий список записей. (Указывается абсолютный путь от корня документа.) Например, /datasets.
    -    *UUID собираемых записей* - Ключ JSON или Xpath на UUID элемента в XML. Например, 'mdb:metadataIdentifier/*/mcc:code/*/text()' для XML, выполненного по ISO19115-3.
    -    *Параметры нумерации страниц*
         -    *Общее количество собираемых записей* - Свойство, указывающее общее количество записей. (Указывается как абсолютный путь от корня документа.) Например /datasets/10.
         -    *Нумеровать с* - Свойство, указывающее первый элемент записи на текущей «странице», например "start".
         -    *Размер страницы* - Свойство, указывающее на количество записей, содержащихся в текущей «странице», например, строк.
    
-   **Параметры создания записей** - Сборщик создаёт запись метаданных на основе ответа GetCapabilities-запроса. Регулировать создание можно следующими полями.
    -    *Создать по шаблону метаданные сервиса* - Это позволяет при первом запуске использовать шаблон и вводить в него информацию GetCapabilities.
    -    *Категория для метаданных сервиса*
    -    *Создать запись для каждого слоя, используя только информацию GetCapabilities* 
    -    *Категория ISO* - Рекомендуется выбрать одну, поскольку категория тем является обязательной для стандарта ISO19115/19139, если иерархическим уровнем является «наборы данных».
    -    *Язык метаданных* - Обязательное поле, определяющее язык метаданных.
    -    *Выходная схема* - Схема метаданных записей метаданных набора данных, которые будут созданы этим сборщиком.

-   **Фильтрация и обработка ответа**
    -    *Проверка записей перед импортом* - Проверка записей перед импортом.
    -    *XPath фильтр* - Когда запись получена с удаленного сервера, проверьте выражение XPath, чтобы принять или отклонить запись. 
    -    *XSL-преобразование* - XSL-преобразование, которое будет применено к каждой записи перед добавлением в GeoNetwork.
    -    *Пакетное редактирование* - Пакетное обновление собираемых метаданных. Используется для добавления, замены или удаления элементов записей.
    -    *Категория для собранных записей* - Задать категорию собранным записям.
-   **Доступность для собранных записей** - Назначение привилегий определённым группам по собранным метаданным.
    -    *Если запись существует* - Применяется только при обновлении, и если при конфликте UUID предписано задано перезаписывать записи. Если включено, привилегии не удаляются при обновлении.

    !!! Примечание

        GeoNetwork ищет схемы по имени в <https://github.com/geonetwork/core-geonetwork/tree/4.0.x/web/src/main/webapp/xsl/conversion/import>. Эти схемы могут внутренне включать схемы из других мест, например <https://github.com/geonetwork/core-geonetwork/tree/4.0.x/schemas/iso19115-3.2018/src/main/plugin/iso19115-3.2018/convert>. Чтобы указать схему `fromJsonOpenDataSoft`, например, из последнего места непосредственно в пользовательском интерфейсе администратора, можно использовать следующий синтаксис: `schema:iso19115-3.2018:convert/fromJsonOpenDataSoft`.

    **Пример конфигурации для opendatasoft**

    -   *Цикл по* - `/datasets`
    -   *UUID собираемых записей* : `datasetid`
    -   *Общее количество собираемых записей* : ``/dataset/4`
    -   *Нумеровать с:* : `start`
    -   *Размер страницы:* : `rows`
    -   *toISOConversion* : `OPENDATASOFT-to-ISO19115-3-2018`

    **Пример конфигурации для ESRI**

    -   *Цикл по* - `/datasets`
    -   *UUID собираемых записей* : `landingPage`
    -   *Общее количество собираемых записей* : `/dataset/4`
    -   *Нумеровать с:* : `start`
    -   *Размер страницы:* : `rows`
    -   *toISOConversion* : `ESRIDCAT-to-ISO19115-3-2018`

    **Пример конфигурации для DKAN**

    -   *Цикл по* - `/result/0`
    -   *UUID собираемых записей* : `id`
    -   *Общее количество собираемых записей* : `/dataset/4`
    -   *Нумеровать с:* : `start`
    -   *Размер страницы:* : `rows`
    -   *toISOConversion* : `DKAN-to-ISO19115-3-2018`
