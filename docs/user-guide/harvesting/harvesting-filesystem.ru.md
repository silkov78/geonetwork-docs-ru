# Сбор метаданных с локальной файловой системы {#localfilesystem_harvester}

Этот сборщик будет собирать метаданные в виде XML-файлов из файловой системы сервера и локальной машины, на которой запущен GeoNetwork.

## Добавление сборщика локальной файловой системы

Нажмите `Собрать из` - `Директория`, чтобы создать харвестера, собирающего данные из директории сервера, на которой запущен GeoNetwork. Доступные параметры следующие:

-   **Идентификация** - параметры собранных данных в каталоге GeoNetwork.
    -    *Имя* - Это краткое описание удаленного сайта. Оно будет показано на главной странице сбора в качестве имени для этого экземпляра CSW-харвестера.
    -    *Выбор логотипа* - Логотип будет использоваться при отображении собранных записей метаданных в результатах поиска.
    -    *Группа* - Группа, в которой разместятся собираемые метаданные.
    -    *Пользователь* - Пользователь, который будет владельцем собранных метаданных.
-   **Расписание** - Параметры расписания, согласно которым сборщик будет собирать метаданные.
    -    *Частота* - Частота (периодичность) запуска сбора метаданных харвестером.
    -    *Только один запуск* - Сборщик будет запущен только один раз, если выбран пункт.
-   **Настроить подключение** - параметры подключения к CSW-серверу.
    -    *Директория* - Путь к директории для сбора на сервере.
    -    *Искать также в подпапках* - Если отмечено, поиск метаданных будет произведен также во вложенных папках.
    -    *Скрипт для запуска перед сбором метаданных* - Может использоваться для rsync или чего-то подобного. Если пусто, не выполняется ничего.
    -    *Тип записи* - задать тип записи метаданных.
-   **Фильтр поиска** - С помощью кнопки `Применить фильтр` можно добавить несколько критериев поиска. Можно запрашивать только поля, распознаваемые протоколом CSW.
-   **Параметры поиска** - специфические параметры сбора для этого харвестера.
    -    *Сортировка по* - Определение порядка сортировки для запроса GetRecords. Это может решить проблему для больших наборов, когда некоторые записи могут измениться на удаленном узле во время сбора данных и вернуться на разных страницах. Сортировка A - это UUID в алфавитном порядке.
    -    *Выходная схема* - Идентификатор URI запрошенного с CSW сервера стандарта метаданных. Сервер должен поддерживать этот стандарт. Поддерживаемые стандарты перечислены в документе CSW Capabilities в операции GetRecordById.
    -    *Распределенный поиск* - Распределенный поиск на удаленном сервере (если он это обеспечивает). Когда эта опция включена, удаленный каталог направляет поиск на настроенные удалённые CSW-серверы
-   **Правила слияния UUID** - Действие при дублировании UUID.
-   **Фильтрация и обработка ответа**
    -    *Проверка записей перед импортом* - Проверка записей перед импортом.
    -    *Поиск дубликатов ресурсов по идентификатору ресурса* - Сравнение выполнено по элементу 'gmd:identificationInfo/*/gmd:citation/gmd:CI_Citation/gmd:identifier/*/gmd:code/gco:CharacterString'. Оно применимо только к записям по ISO19139 или профилям ISO.
    -    *XPath фильтр* - Когда запись получена с удаленного сервера, проверьте выражение XPath, чтобы принять или отклонить запись. 
    -    *XSL-преобразование* - XSL-преобразование, которое будет применено к каждой записи перед добавлением в GeoNetwork.
    -    *Пакетное редактирование* - Пакетное обновление собираемых метаданных. Используется для добавления, замены или удаления элементов записей.
    -    *Категория для собранных записей* - Задать категорию собранным записям.
-   **Доступность для собранных записей** - Назначение привилегий определённым группам по собранным метаданным.
    -    *Если запись существует* - Применяется только при обновлении, и если при конфликте UUID предписано задано перезаписывать записи. Если включено, привилегии не удаляются при обновлении.



-   **Сайт** - Параметры удаленного сайта.
    -   *Имя* - Это краткое описание сборщика файловой системы. Оно будет показано на главной странице сбора в качестве имени для этого экземпляра сборщика локальной файловой системы.
    -   *Каталог* - Путь к каталогу, содержащему метаданные (в виде XML-файлов), которые необходимо собрать.
    -   *Рекурсия* - Если этот флажок установлен и путь *Каталог* содержит другие каталоги, то сборщик обойдет все дерево файловой системы в этом каталоге и добавит все найденные файлы метаданных.
    -   *Сохранять локально, если удалено в источнике* - Если отмечено, то записи метаданных, которые уже были собраны, будут сохранены, даже если они были удалены из указанного *Каталога*.
    -   *Значок (иконка)* - Значок для назначения собранным метаданным. Значок будет использоваться при отображении собранных записей метаданных в результатах поиска.
-   **Параметры** - Параметры расписания (периодичности), согласно которым сборщик будет собирать метаданные.
-   **Собранный контент** - Параметры, которые применяются к собранному контенту.
    -   *Применить XSLT к собранным записям* - применение XSLT-преобразования, который преобразует собранные записи в другой формат.
    -   *Проверить* - Если отмечено, метаданные будут проверены после извлечения. Если проверка не пройдена, метаданные будут пропущены.
-   **Привилегии** - Назначить привилегии собранным метаданным.
-   **Категории**

!!! Примечание

    Для успешного сбора записи метаданных,извлеченных из файловой системы, должны соответствовать схеме метаданных в экземпляре GeoNetwork.