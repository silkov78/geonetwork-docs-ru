# Карты и визуализация данных {#map-viewer-as-user}

Вы можете использовать компоненты карт в GeoNetwork следующим образом:

- Средство просмотра карт предоставляет пользователям возможность интерактивно оценить релевантность ресурса, обнаруженного в каталоге.
- GeoNetwork можно использовать в качестве картографического приложения для создания карт, которые можно распечатать или предоставить другим пользователям. Карты также можно регистрировать в каталоге.

!!! Внимание

    Вместо встроенного средства просмотра карт GeoNetwork может использовать внешнее средство просмотра карт (например, существующий в вашей организации фреймворк WebGIS). Администратор может настроить GeoNetwork для подключения к внешнему приложению веб-карты. В таком случае все действия с картой передаются внешнему приложению. См. раздел [Приложение карты](../../administrator-guide/configuring-the-catalog/user-interface-configuration.md#user-interface-config-mappage).


## Средство просмотра карт

Вы можете открыть средство просмотра карты из представления сведений о метаданных с помощью кнопки "Добавить на карту" или непосредственно с вкладки "Карта". На правой панели инструментов отображается список инструментов. Наведите курсор на инструменты, чтобы отобразить подсказку, объясняющую их значение. Доступные инструменты настраиваются администратором, см. раздел [Приложение карты](../../administrator-guide/configuring-the-catalog/user-interface-configuration.md#user-interface-config-mappage).

Инструменты для работы с картой расположены в двух группах в правой части карты. Верхняя группа выглядит следующим образом:

| **Инструмент** | **Описание** |
|------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Добавить слой | Вы можете искать в каталоге, добавлять слои из веб-сервисов или kml. Можно добавить непосредственно слои WMS, WFS или WMTS, введя конечную точку и выбрав слой из ответа возможностей. |
| Управление слоями | Управление слоями или изменение фоновой карты.                                                                                                                                                               |
| | Переключатель проекций | Позволяет установить альтернативные проекции.                                                                                                                                                                |
| Фильтр слоев | Используется для фильтрации объектов, отображаемых на карте, по различным признакам. Администратор должен убедиться, что фильтрация настроена правильно, прежде чем добавлять этот инструмент на карту.                                      |
| Служба веб-обработки | Вы можете ввести ссылку WPS и посмотреть, какие процессы предлагает служба.                                                                                                                                       |
| Управление картой | Возврат карты к настройкам по умолчанию, загрузка нового определения карты, загрузка текущей карты или сохранение конфигурации карты в виде записи в каталоге.                                         |
| Печать | Будет создан pdf-файл текущей карты, который можно загрузить и отправить на принтер.                                                                                                                       |
| Синхронизировать | Слои с маленькой картой на вкладке Поиск. Изменения на карте дублируются на малой карте и наоборот.                                                                                           |
| | Измерение расстояний | Измерение расстояний и поверхностей на карте.                                                                                                                                                                |
| Рисовать аннотации | Аннотации можно распечатать или экспортировать в формате GeoJSON.                                                                                                                                                        |

Кроме того, в левом верхнем углу имеется инструмент *географического поиска*.

Просмотрщик карт поддерживает функцию *Featureinfo* для получения информации при нажатии на местоположение на карте.

![](img/addLayers.png){width="300px"}

## Хранение и совместное использование карт

Карта состоит из фонового слоя и нескольких тематических наложений. Формат для объединения слоев, проекции и границ (области интересов) был принят OGC в качестве стандарта OWS Context. Помимо GeoNetwork существует ряд других приложений, поддерживающих этот стандарт.

GeoNetwork использует OWSContext для хранения, обмена и загрузки карт:

- Экспортируйте контекст в локальный файл, чтобы восстановить карту позже или поделиться ею по электронной почте.
- Администратор может ввести файл контекста в качестве конфигурации по умолчанию для каталога.
- Откройте локальный файл контекста, перетащив его в средство просмотра карт (или открыв из контекстного меню).
- Зарегистрируйте контекст как актив в каталоге, сам контекст будет добавлен в качестве вложения.
- Записи, к которым прикреплен файл контекста OWS, будут отображать кнопку для открытия файла контекста.

![](img/OWSContext.png){width="300px"}
